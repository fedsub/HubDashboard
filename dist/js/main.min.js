let dataAddress;function deleteData(e){return fetch("http://167.99.222.47:8000/api/shipments/"+e,{method:"delete"}).then(setTimeout(location.reload.bind(location),500))}console.log("iets randoms"),fetch("http://167.99.222.47:8000/api/shipments").then(e=>e.json()).then(function(e){dataAddress=e;let t=document.getElementById("packageList");if(t){let e=t.createTHead().insertRow(0),n=e.insertCell(0),s=e.insertCell(1),a=e.insertCell(2),o=e.insertCell(3),d=e.insertCell(4),r=e.insertCell(5),l=e.insertCell(6);for(n.innerHTML="<b>Naam</b>",s.innerHTML="<b>Adres</b>",a.innerHTML="<b>Postcode</b>",o.innerHTML="<b>Telefoonnummer</b>",d.innerHTML="<b>ID</b>",r.innerHTML="<b>Aanpassen</b>",l.innerHTML="<b>Verwijderen</b>",i=0;i<dataAddress.length;i++){let e=t.insertRow(1);e.insertCell(0).innerHTML=dataAddress[i].name,e.insertCell(1).innerHTML=dataAddress[i].address,e.insertCell(2).innerHTML=dataAddress[i].zip,e.insertCell(3).innerHTML=dataAddress[i].phone,e.insertCell(4).innerHTML=dataAddress[i]._id;let n=dataAddress[i]._id;e.insertCell(5).innerHTML="link (volgt nog)",e.insertCell(6).innerHTML="<button id="+i+">Verwijderen</button>",document.getElementById(i).addEventListener("click",()=>{deleteData(n)})}}}).catch(e=>console.error(e));const API_KEY="5a4f6201-53d3-419c-920f-7970a6c183e9\t";async function getShipments(){return await fetch("http://167.99.222.47:8000/api/shipments").then(e=>e.json())}async function postProblem(){let e=await getShipments();console.log(e);let t={method:"POST",body:e,headers:new Headers({})};fetch("http://milansosef.nl/post.php",t).then(e=>e.json()).then(function(e){console.log(e)}).catch(e=>console.log(e))}url="https://graphhopper.com/api/1/vrp/optimize?key="+API_KEY,postProblem();let JOB_ID="";async function getJobID(){return(await fetch("http://milansosef.nl/post.php").then(e=>e.json())).job_id}async function getSolution(){let e=await getJobID();console.log(e),console.log(checkResponse(e))}async function checkResponse(e){let t="https://www.google.com/maps/embed/v1/directions?key=AIzaSyB6I4m0PabqJB2oAEJoatzYbNpnsUFhJsY&origin=Blaak&destination=Blaak&waypoints="+dataAddress[dataAddress.length-1].address+"|"+dataAddress[dataAddress.length-2].address+"|"+dataAddress[dataAddress.length-3].address+"|"+dataAddress[dataAddress.length-4].address+"|"+dataAddress[dataAddress.length-5].address+"|"+dataAddress[dataAddress.length-6].address+"&mode=bicycling";document.querySelector("iframe").setAttribute("src",t)}let button=document.getElementById("getJobButton");button&&button.addEventListener("click",getSolution);let dataHub,packageZip=3011;function doSomething(){let e=new XMLHttpRequest;e.open("POST","http://167.99.222.47:8000/api/shipments",!0),e.setRequestHeader("Content-Type","application/json"),e.onreadystatechange=function(){if(4===e.readyState&&200===e.status)JSON.parse(e.responseText)};var t=JSON.stringify({name:fullname.value,address:address.value,zip:zipcode.value,zipNumbers:zipcode.value.replace(/\D/g,""),phone:phone.value});return e.send(t),!1}function sortTable(e){var t,n,s,a,o,d,r,i,l=0;for(t=document.getElementById("packageList"),s=!0,i="asc";s;){for(s=!1,n=t.getElementsByTagName("TR"),a=1;a<n.length-1;a++)if(r=!1,o=n[a].getElementsByTagName("TD")[e],d=n[a+1].getElementsByTagName("TD")[e],"asc"==i){if(o.innerHTML.toLowerCase()>d.innerHTML.toLowerCase()){r=!0;break}}else if("desc"==i&&o.innerHTML.toLowerCase()<d.innerHTML.toLowerCase()){r=!0;break}r?(n[a].parentNode.insertBefore(n[a+1],n[a]),s=!0,l++):0==l&&"asc"==i&&(i="desc",s=!0)}}fetch("https://bridge.buddyweb.fr/api/metrohubs/metrohaltes/"+packageZip).then(e=>e.json()).then(function(e){console.log(e),dataHub=e}).catch(e=>console.error(e));