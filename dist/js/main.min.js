let dataAddress;fetch("http://167.99.222.47:8000/api/shipments").then(e=>e.json()).then(function(e){dataAddress=e;let t=document.getElementById("packageList"),n=t.createTHead().insertRow(0),a=n.insertCell(0),o=n.insertCell(1),s=n.insertCell(2),r=n.insertCell(3),l=n.insertCell(4),c=n.insertCell(5),d=n.insertCell(6);for(a.addEventListener("click",function(){sortTable(0)}),o.addEventListener("click",function(){sortTable(1)}),s.addEventListener("click",function(){sortTable(2)}),a.innerHTML="<b>Naam</b><i class='tiny center material-icons'>sort_by_alpha</i>",o.innerHTML="<b>Adres</b><i class='tiny center material-icons'>sort_by_alpha</i>",s.innerHTML="<b>Postcode</b><i class='tiny center material-icons'>sort_by_alpha</i>",r.innerHTML="<b>Telefoonnummer</b>",l.innerHTML="<b>ID</b>",c.innerHTML="<b>Aanpassen</b>",d.innerHTML="<b>Verwijderen</b>",i=0;i<dataAddress.length;i++){let e=t.insertRow(1);e.insertCell(0).innerHTML=dataAddress[i].name,e.insertCell(1).innerHTML=dataAddress[i].address,e.insertCell(2).innerHTML=dataAddress[i].zip,e.insertCell(3).innerHTML=dataAddress[i].phone,e.insertCell(4).innerHTML=dataAddress[i]._id,e.insertCell(5).innerHTML="link (volgt nog)",e.insertCell(6).innerHTML="link (volgt nog)"}}).catch(e=>console.error(e));const API_KEY="5a4f6201-53d3-419c-920f-7970a6c183e9";url="https://graphhopper.com/api/1/vrp/optimize?key="+API_KEY;let data={vehicles:[{vehicle_id:"my_vehicle",start_address:{location_id:"berlin",lon:13.406,lat:52.537}}],services:[{id:"hamburg",name:"visit_hamburg",address:{location_id:"hamburg",lon:9.999,lat:53.552}},{id:"munich",name:"visit_munich",address:{location_id:"munich",lon:11.57,lat:48.145}},{id:"cologne",name:"visit_cologne",address:{location_id:"cologne",lon:6.957,lat:50.936}},{id:"frankfurt",name:"visit_frankfurt",address:{location_id:"frankfurt",lon:8.67,lat:50.109}}]},fetchData={method:"POST",body:data,headers:new Headers({"Content-Type":"application/json"})};function postProblem(){fetch("https://graphhopper.com/api/1/vrp/optimize?key=5a4f6201-53d3-419c-920f-7970a6c183e9",{body:data,headers:{"Content-Type":"application/json",Accept:"application/json; charset=utf-8"},method:"POST"}).then(e=>e.json()).then(function(e){console.log(e)}).catch(e=>console.log(e))}postProblem();let dataGraph,JOB_ID="86c1c58b-5104-47e6-b43c-899d4f2e7c77";function getSolution(){fetch("https://graphhopper.com/api/1/vrp/solution/"+JOB_ID+"?key="+API_KEY).then(e=>e.json()).then(function(e){console.log(e),dataGraph=e}).catch(e=>console.error(e))}document.getElementById("getJobButton").addEventListener("click",getSolution);var mapslink="https://www.google.com/maps/embed/v1/directions?key=AIzaSyB6I4m0PabqJB2oAEJoatzYbNpnsUFhJsY&origin=Oslo+Norway&destination=Telemark+Norway";const mapsFrame=document.querySelector("iframe");mapsFrame.setAttribute("src",mapslink);let dataHub,packageZip=3011;function doSomething(){let e=new XMLHttpRequest;e.open("POST","http://167.99.222.47:8000/api/shipments",!0),e.setRequestHeader("Content-Type","application/json"),e.onreadystatechange=function(){if(4===e.readyState&&200===e.status)JSON.parse(e.responseText)};var t=JSON.stringify({name:fullname.value,address:address.value,zip:zipcode.value,zipNumbers:zipcode.value.replace(/\D/g,""),phone:phone.value});return e.send(t),!1}function sortTable(e){var t,n,a,i,o,s,r,l,c=0;for(t=document.getElementById("packageList"),a=!0,l="asc";a;){for(a=!1,n=t.getElementsByTagName("TR"),i=1;i<n.length-1;i++)if(r=!1,o=n[i].getElementsByTagName("TD")[e],s=n[i+1].getElementsByTagName("TD")[e],"asc"==l){if(o.innerHTML.toLowerCase()>s.innerHTML.toLowerCase()){r=!0;break}}else if("desc"==l&&o.innerHTML.toLowerCase()<s.innerHTML.toLowerCase()){r=!0;break}r?(n[i].parentNode.insertBefore(n[i+1],n[i]),a=!0,c++):0==c&&"asc"==l&&(l="desc",a=!0)}}fetch("https://bridge.buddyweb.fr/api/metrohubs/metrohaltes/"+packageZip).then(e=>e.json()).then(function(e){console.log(e),dataHub=e}).catch(e=>console.error(e));